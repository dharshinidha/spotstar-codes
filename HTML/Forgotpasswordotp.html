<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../CSS/style.css">
    <script>
        function resetForm() {
            document.getElementById("password").value="";
            document.getElementById("confirm_password").value="";
        }
    function updatepassword() {
        var Password=document.getElementById("password").value
        var Password_flag=false
        var Length=0
        var Upper=0
        var Lower=0
        var Num=0
        var Special=0
        for(var i=0;i<Password.length;i++){
        Length++
        if((Password[i]>='A')&&(Password[i]<='Z'))
        {
            Upper++;
        }
        else if((Password[i]>='a')&&(Password[i]<='z'))
        {
            Lower++;

        }
        else if((Password[i]>='0')&&(Password[i]<='9'))
        {
            Num++;
        }
        else{
            Special++;
        }
       }
        if((Length>=8)&&(Length<=16)&&(Upper>=1)&&(Lower>=1)&&(Num>=1)&&(Special>=1))
        {
            Password_flag=true
        }
        //Confirm Password validation
        var Confirm=document.getElementById("confirm_password").value
        var Confirm_flag=false
        if(Password==Confirm){
            Confirm_flag=true
        }
        if((Password_flag==true)&&(Confirm_flag==true))
        {
            document.getElementById("myModal").style.display = "block";
            resetForm();
        }
        else{
            document.getElementById("invalidModal").style.display = "block";
            resetForm();
        }
    }
    function closeModal() 
    {
            document.getElementById("myModal").style.display = "none";
            document.getElementById("invalidModal").style.display = "none";
    }
    </script>
    
</head>
<body style="background-color: #252324;">
    <div class="header">
        <div class="logo"><img class="logoimg" src="../IMAGES/logo1.png" alt=""></div>
        <div class="headercontent">
            <a href="./index.html" class="headtext">HOME</a> 
            <a href="#" class="headtext">ABOUT</a>
            <a href="./contact.html" class="headtext">CONTACT</a>
        </div>
    </div>
    <div  id="main">
        <div class="subdiv"><img class="loginpic" src="../IMAGES/login.png" alt="login pic"></div>
        <div class="subdiv" id="formdiv">
            <form action="">
                    <h2>SPOTSTAR</h2>
                    <p class="signuplink">To change new password</p>
                    <input type="password" name="" id="password" placeholder="new password">
                    <span class="icon"><i class="fa-solid fa-lock"></i></span>
                    <input type="password" name="" id="confirm_password" placeholder="confirm password">
                    <span class="icon"><i class="fa-solid fa-lock"></i></span>
                    <input type="button" value="UPDATE" class="btn" id="btn" onclick="updatepassword()">
            </form>
        </div>
    </div>
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <p  id="result">Password updated successfully</p><br>
            <a href="./login.html" style="color: fuchsia;">GO TO LOGINPAGE</a>
        </div>

    </div>
    <div id="invalidModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <p  id="invalidResult">Invalid Password</p><br>
            <a href="./Forgotpasswordotp.html" style="color: fuchsia;">Try to give new password</a>
        </div>
    </div>
</body>
</html>